I"Æ<<p>Java å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç»§æ‰¿ Thread ç±»ï¼Œå¦ä¸€ç§æ˜¯å®ç° Runnable æ¥å£ã€‚<br />
ä¸‹é¢çš„å†…å®¹ä¼šåˆ†åˆ«ä»‹ç»è¿™ä¸¤ç§ç”¨æ³•ä»¥åŠä½¿ç”¨ä¸Šçš„åŒºåˆ«ã€‚</p>

<p>Java é€šè¿‡Threadç±»æ¥å®ç°å¤šçº¿ç¨‹ï¼Œå…³äºThreadç±»çš„ä»‹ç»ï¼Œå¯ä»¥æŸ¥é˜…Javaæ–‡æ¡£ã€‚
<a href="https://docs.oracle.com/javase/8/docs/api/">Thread</a><br />
Threadç±»ç»§æ‰¿è‡ªjava.lang.Objectï¼Œå®ç°äº†Runnableæ¥å£ã€‚<br />
Threadç±»çš„ç”¨æ³•å¦‚ä¸‹ã€‚<br />
MyThreadClass.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.daviddong</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyThreadClass</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">cnt</span><span class="o">++;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"çº¿ç¨‹"</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">" è¢«è°ƒç”¨ "</span> <span class="o">+</span> <span class="n">cnt</span> <span class="o">+</span> <span class="s">"æ¬¡"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>App.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.daviddong</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> 
<span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span>
    <span class="o">{</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MyThreadClass</span><span class="o">&gt;</span> <span class="n">lists</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MyThreadClass</span><span class="o">&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            <span class="nc">MyThreadClass</span> <span class="n">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyThreadClass</span><span class="o">(</span><span class="n">mR</span><span class="o">);</span>
            <span class="n">lists</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tmp</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">MyThreadClass</span> <span class="nl">tmp:</span><span class="n">lists</span><span class="o">){</span>
            <span class="n">tmp</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
<p>è¿è¡Œç»“æœ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>çº¿ç¨‹Thread-0 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-9 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-8 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-7 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-5 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-6 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-3 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-4 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-2 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-1 è¢«è°ƒç”¨ 1æ¬¡
</code></pre></div></div>
<p>ç”±ä»¥ä¸Šç»“æœå¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹çš„è¿è¡Œç»“æœä¸æ‰§è¡Œé¡ºåºæ— å…³ï¼Œå¹¶ä¸”10ä¸ªçº¿ç¨‹åˆ†åˆ«è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œçº¿ç¨‹å†…èµ„æºæ— æ³•å…±äº«ã€‚</p>

<p>Runnableæ¥å£çš„Javaæ–‡æ¡£çš„ä»‹ç»ã€‚<a href="">Runnable</a>
Runnableæ¥å£å†…åªå£°æ˜ä¸€ä¸ªæ–¹æ³•Run()çš„æ–¹æ³•ï¼ŒåŒThreadå†…çš„Run()æ–¹æ³•ä¸€æ ·ï¼Œè¯¥æ–¹æ³•å†…å®šä¹‰äº†çº¿ç¨‹çš„æ‰§è¡Œä½“ã€‚<br />
Runnableæ¥å£çš„ç”¨æ³•å¦‚ä¸‹ã€‚<br />
MyRunnable.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.daviddong</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyRunnable</span> <span class="kd">implements</span> <span class="nc">Runnable</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">cnt</span><span class="o">++;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"çº¿ç¨‹"</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">" è¢«è°ƒç”¨ "</span> <span class="o">+</span> <span class="n">cnt</span> <span class="o">+</span> <span class="s">"æ¬¡"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>App.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.daviddong</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> 
<span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span>
    <span class="o">{</span>
        <span class="nc">MyRunnable</span> <span class="n">mR</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyRunnable</span><span class="o">();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Thread</span><span class="o">&gt;</span> <span class="n">lists</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Thread</span><span class="o">&gt;();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            <span class="nc">Thread</span> <span class="n">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="n">mR</span><span class="o">);</span>
            <span class="n">lists</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">tmp</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">Thread</span> <span class="nl">tmp:</span><span class="n">lists</span><span class="o">){</span>
            <span class="n">tmp</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>   
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>çº¿ç¨‹Thread-1 è¢«è°ƒç”¨ 2æ¬¡
çº¿ç¨‹Thread-2 è¢«è°ƒç”¨ 3æ¬¡
çº¿ç¨‹Thread-0 è¢«è°ƒç”¨ 2æ¬¡
çº¿ç¨‹Thread-7 è¢«è°ƒç”¨ 7æ¬¡
çº¿ç¨‹Thread-6 è¢«è°ƒç”¨ 6æ¬¡
çº¿ç¨‹Thread-5 è¢«è°ƒç”¨ 5æ¬¡
çº¿ç¨‹Thread-4 è¢«è°ƒç”¨ 4æ¬¡
çº¿ç¨‹Thread-8 è¢«è°ƒç”¨ 9æ¬¡
çº¿ç¨‹Thread-9 è¢«è°ƒç”¨ 9æ¬¡
çº¿ç¨‹Thread-3 è¢«è°ƒç”¨ 10æ¬¡
</code></pre></div></div>
<p>åŒThreadçš„ä¾‹å­ä¸€æ ·ï¼Œçœ‹çš„å‡ºçº¿ç¨‹çš„æ‰§è¡Œé¡ºåºä¸è°ƒç”¨é¡ºåºæ— å…³ã€‚ä½†æ˜¯å› ä¸ºä¸åŒçš„çº¿ç¨‹ä¸­ä¼ å…¥çš„æ˜¯åŒä¸€ä¸ªå®ç°äº†Runnableæ¥å£çš„å¯¹è±¡ï¼Œå› æ­¤å†…éƒ¨çš„å˜é‡è¢«å…±äº«ã€‚
ç”±ä»¥ä¸Šä¸¤ä¸ªä¾‹å­ï¼Œå¯ä»¥çœ‹å‡ºä½¿ç”¨Threadç±»å’ŒRunnableæ¥å£åˆ›å»ºçº¿ç¨‹çš„ä¸åŒä¸»è¦æ˜¯æœ‰2ç‚¹ã€‚</p>
<ul>
  <li>å› ä¸ºJavaåªèƒ½å®ç°å•ç»§æ‰¿ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œæ‰€ä»¥ä½¿ç”¨ç»§æ‰¿Threadç±»çš„æ–¹æ³•å°±ä¼šå¯¼è‡´æ— æ³•ç»§æ‰¿å…¶ä»–çš„ç±»ï¼Œè€ŒRunnableæ¥å£å°±å¯ä»¥é¿å…ç»§æ‰¿çš„å±€é™ã€‚</li>
  <li>ä½¿ç”¨Runnableæ¥å£é€‚åˆäºèµ„æºçš„å…±äº«ã€‚</li>
</ul>

<p>ä¸Šé¢çš„ç¨‹åºè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çœ‹åˆ°ä½¿ç”¨Runableæ¥å£æ—¶ï¼Œè™½ç„¶èµ„æºæ˜¯è¢«å…±äº«çš„ï¼Œä½†æ˜¯é¡ºåºä¸å¯¹ï¼Œè€Œä¸”æœ‰é‡å¤å‡ºç°çš„æƒ…å†µï¼Œæ­£å¸¸åº”è¯¥æ˜¯æ¯ä¸ªçº¿ç¨‹è¢«è°ƒç”¨æ—¶ï¼Œè°ƒç”¨æ¬¡æ•°åŠ ä¸€ï¼Œä¸”åº”è¯¥é¡ºåºå¢åŠ ã€‚é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯å› ä¸ºä¸åŒçš„çº¿ç¨‹åœ¨æ‰§è¡Œéƒ½ä¼šè®¿é—®å…±äº«çš„èµ„æºï¼Œè€Œè¿™äº›çº¿ç¨‹æ²¡æœ‰å®ç°åŒæ­¥ï¼Œå…±äº«èµ„æºä¼šåœ¨ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨çš„è¿‡ç¨‹ä¸­è¢«å¦å¤–çš„çº¿ç¨‹æ”¹å˜ã€‚
è§£å†³è¿™ä¸ªé—®é¢˜çš„è¯å°±è¦ç”¨åˆ°synchronizedï¼Œä½¿çº¿ç¨‹ä¹‹é—´åŒæ­¥è¿è¡Œã€‚
æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ä»£ç ã€‚<br />
MyRunnale.java</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.daviddong</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyRunnable</span> <span class="kd">implements</span> <span class="nc">Runnable</span><span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// TODO Auto-generated method stub</span>
        <span class="n">cnt</span><span class="o">++;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"çº¿ç¨‹"</span> <span class="o">+</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">" è¢«è°ƒç”¨ "</span> <span class="o">+</span> <span class="n">cnt</span> <span class="o">+</span> <span class="s">"æ¬¡"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>ä½¿ç”¨synchronizedä¿®é¥°run()æ–¹æ³•ï¼Œä½¿å¾—å…¶åœ¨æ‰§è¡Œæ—¶ä¸å…¶ä»–çš„çº¿ç¨‹åŒæ­¥ã€‚ç»è¿‡synchronizedä¿®é¥°åçº¿ç¨‹åœ¨æ‰§è¡Œrun()æ–¹æ³•æ—¶ä¼šç¡®è®¤æ˜¯å¦æœ‰å…¶ä»–çº¿ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå¦‚æœæœ‰çš„è¯å°±åŠ å…¥é˜Ÿåˆ—ç­‰å¾…ï¼ŒçŸ¥é“å¯ä»¥è·å¾—æ‰§è¡Œæƒã€‚
æ‰§è¡Œç»“æœå¦‚ä¸‹ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>çº¿ç¨‹Thread-1 è¢«è°ƒç”¨ 1æ¬¡
çº¿ç¨‹Thread-3 è¢«è°ƒç”¨ 2æ¬¡
çº¿ç¨‹Thread-2 è¢«è°ƒç”¨ 3æ¬¡
çº¿ç¨‹Thread-7 è¢«è°ƒç”¨ 4æ¬¡
çº¿ç¨‹Thread-0 è¢«è°ƒç”¨ 5æ¬¡
çº¿ç¨‹Thread-9 è¢«è°ƒç”¨ 6æ¬¡
çº¿ç¨‹Thread-8 è¢«è°ƒç”¨ 7æ¬¡
çº¿ç¨‹Thread-6 è¢«è°ƒç”¨ 8æ¬¡
çº¿ç¨‹Thread-5 è¢«è°ƒç”¨ 9æ¬¡
çº¿ç¨‹Thread-4 è¢«è°ƒç”¨ 10æ¬¡
</code></pre></div></div>
<p>ç°åœ¨æˆ‘ä»¬çœ‹åˆ°å…±äº«èµ„æºæ˜¯æŒ‰é¡ºåºè¢«è°ƒç”¨ä¸”æ²¡æœ‰é‡å¤ã€‚<br />
æœ€ååœ¨ä»‹ç»ä¸€äº›Threadç±»çš„å¸¸ç”¨æ–¹æ³•ã€‚<br /></p>

<table>
  <thead>
    <tr>
      <th><strong>Return</strong></th>
      <th style="text-align: left"><strong>Function</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Thread</td>
      <td style="text-align: left">currentThread</td>
      <td>è¿”å›ä»£ç æ®µå½“å‰è¢«è°ƒç”¨çš„çº¿ç¨‹</td>
    </tr>
    <tr>
      <td>void</td>
      <td style="text-align: left">sleep()</td>
      <td>åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰â€æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹â€ä¼‘çœ ï¼ˆæš‚åœæ‰§è¡Œï¼‰</td>
    </tr>
    <tr>
      <td>void</td>
      <td style="text-align: left">start()</td>
      <td>å¯åŠ¨å½“å‰çº¿ç¨‹</td>
    </tr>
    <tr>
      <td>boolean</td>
      <td style="text-align: left">isAlive()</td>
      <td>å½“å‰çº¿ç¨‹æ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€</td>
    </tr>
    <tr>
      <td>String</td>
      <td style="text-align: left">getName()</td>
      <td>è¿”å›å½“å‰çº¿ç¨‹çš„åå­—</td>
    </tr>
    <tr>
      <td>long</td>
      <td style="text-align: left">getID()</td>
      <td>è¿”å›å½“å‰çº¿ç¨‹çš„ID</td>
    </tr>
    <tr>
      <td>void</td>
      <td style="text-align: left">setPriority()</td>
      <td>è®¾ç½®ä¼˜å…ˆçº§</td>
    </tr>
    <tr>
      <td>boolean</td>
      <td style="text-align: left">isDaemon()</td>
      <td>æ˜¯å¦ä¸ºå®ˆæŠ¤è¿›ç¨‹</td>
    </tr>
  </tbody>
</table>

<p><br />
<!-- Gitalk è¯„è®º start  -->
<!-- Link Gitalk çš„æ”¯æŒæ–‡ä»¶  --></p>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>
<script type="text/javascript">
   var gitalk = new Gitalk({

   // gitalkçš„ä¸»è¦å‚æ•°
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'daviddong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: 'java/2012/09/01/Java-runnable.html',
   title: 'comments'
    });
   gitalk.render('gitalk-container');
</script>

<!-- Gitalk end -->

<p><br /><br /><br /></p>

<font size="2" color="#aaa">ä½œè€…ï¼šDavid Dong<br /></font>
<font size="2" color="#aaa">æ¥æºï¼šhttps://gangdong.github.io/daviddong.github.io/java/2012/09/01/Java-runnable.html</font>
<font size="2" color="#aaa">è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</font>
<p><span id="busuanzi_container_page_pv"></span><font size="2" color="#aaa">
æœ¬æ–‡æ€»é˜…è¯»é‡</font><font size="2" color="#aaa"><span id="busuanzi_value_page_pv">&lt;/font&gt;</span><font size="2" color="#aaa">æ¬¡</font></font></p>
:ET