<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="keywords"  content="董刚, DavidDong, David, 董刚的博客, David Dong's Blog, 博客, 个人网站, 互联网, Web, 手机, 人机接口, Touch, Fingerprint，Github Pages TEE Java Python C Android">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Python Pillow library usage | David Dong’s Blog</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Python Pillow library usage" />
<meta name="author" content="david.dong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This article introduced the Python Pillow library usage explicitly by referring author’s experience." />
<meta property="og:description" content="This article introduced the Python Pillow library usage explicitly by referring author’s experience." />
<link rel="canonical" href="http://localhost:4000/python/2019/03/07/Python-pillow.html" />
<meta property="og:url" content="http://localhost:4000/python/2019/03/07/Python-pillow.html" />
<meta property="og:site_name" content="David Dong’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-07T20:59:29+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Python Pillow library usage" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"david.dong"},"dateModified":"2019-03-07T20:59:29+08:00","datePublished":"2019-03-07T20:59:29+08:00","description":"This article introduced the Python Pillow library usage explicitly by referring author’s experience.","headline":"Python Pillow library usage","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/python/2019/03/07/Python-pillow.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/logo.png"},"name":"david.dong"},"url":"http://localhost:4000/python/2019/03/07/Python-pillow.html"}</script>
<!-- End Jekyll SEO tag -->



<meta property="article:tag" content="Python">


<link href="https://fonts.font.im/css?family=Poppins:400,900|Raleway|Roboto:400,900|Roboto+Mono&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/favicon.ico">

	<!-- default stylesheet monokai.sublime ! -->
	
	<link href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/css/syntax/syntax.monokai.sublime.css" rel="stylesheet"/>
	

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>

</head><body>
    <main class="container">
      <section class="about condensed">
	    <div class="about-header condensed">
			<div class="about-title">
				<a href="/blog/index.html">
				  <img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/avatar-11.png" alt="David Dong"/>
				</a>
				<div class = "title-meta">
					<h2 id="title">
					  <a href="/blog/index.html">David Dong</a>
					</h2>
					<p class = "tagline-small">Java/C/C#/Python</p>
				</div>
			</div>
			<p class="tagline">Java/C/C#/Python</p>
		</div>
		<!--put dark mode button here -->
		<div class = "about-footer condensed">
		  <!--put rss/code link here -->
			<div class="icon-box-container about-footer condensed"><div class = "icon-box" style = "padding-right:0px">
					<a id="dark-mode-toggle" class="togglemode dark-mode" onclick="toggleDarkMode()">
						<span id = "mode">Dark Mode</span>
					</a>
				</div>
				<!-- toggle dark/light display mode, should loading darkmode.js here for avoiding flicker when switching -->
				<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/js/darkmode.js"></script>
				<script type="text/javascript">
				$('.dark-mode').on('click',function(){
					$('.dark-mode').toggleClass('light-mode');
					if (document.getElementById("mode").innerHTML=="Light Mode")
						document.getElementById("mode").innerHTML="Dark Mode";
					else 
						document.getElementById("mode").innerHTML="Light Mode";
				})
				</script><div class = "icon-box">
					<a class="icon-rss" href="/rss.xml">
						<span>Subscribe</span>
					</a>
				</div><div class = "icon-box">
					<a class="icon-file-code" href="https://github.com/gangdong/gangdong.github.io">
						<span>Source Code</span>
					</a>
				</div></div>
		</div>
		
	    <!--show contact me -->
		<div class = "about-footer condensed social-container">
	    <p class = "contact about-footer condensed">CONTACT ME</p>
		<!-- put social link here -->
	      <ul class="social about-footer condensed" >
		   <a href="https://rainbow-ux.github.io/traveler-blog.github.io">
              <li>
                <i class="icon-picture"></i>
              </li>
           </a><a href="https://github.com/gangdong">
              <li>
                <i class="icon-github-circled"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/刚-董-25208ba0/">
              <li>
                <i class="icon-linkedin-squared"></i>
              </li>
            </a><a href="mailto:dqdongg@hotmail.com">
              <li>
                <i class="icon-mail" style = "font-size: 27px"></i>
              </li>
            </a></ul>
		<!--put timestamp here -->
		<p class ="timestamp about-footer condensed">&copy; 2024</p>
		</div>
	  <!-- about box end here -->
      </section>
	  
      <section class="content">
        


<!-- add menu bar here! -->
<div class="post-container">
	<div  class = "menu-meta condensed">
		<!--put top menu here, display @ big screen (> $mobileW) -->
		<div  class = "menu-logo">BLOG</div>
		<div  class = "menu">
			<a href="/blog/index.html">
				<li class="icon-home">Home</li>
			</a><a href="/archive">
				<li class="icon-archive">Archives</li>
			</a><a href="/category">
				<li class="icon-tags">Categories</li>
			</a><a href="/about">
				<li class="icon-help-circled">About</li>
			</a>
		</div>
		<!--put hide menu button here, display @ small screen (< $mobileW) -->
		<div class = "menu-btn-box"><a class="menu-btn"></a></div>
		<!--put hide menu here, display @ small screen (< $mobileW) -->
		<div class="context-menu">
			<ul >
				<li>
					<a class="icon-home" href="/blog/index.html">Home</a>
				</li><li>
					<a class="icon-archive" href="/archive">Archives</a>
				</li><li>
					<a class="icon-tags" href="/category">Categories</a>
				</li><li>
					<a class="icon-help-circled" href="/about">About</a>
				</li>
			</ul>
		</div>
	</div>
</div>
<script type="text/javascript">
$('.menu-btn').on('click',function(e){
		
	e.stopPropagation();
	var tag = $('.context-menu');		
	$(tag).toggleClass('context-menu-show');
			
	var flag = true;
	/* hide the context-menu when other element is clicked */
	$(document).bind('click',function(e){
		var target = $(e.target);
		if(target.closest(tag).length == 0 && flag == true){
			$(tag).toggleClass('context-menu-show');
			flag = false;
		}
	});
})
</script><div class="post-container" style = "margin-bottom:1rem">
	<div class="posts-labelgroup" id="posts-labelgroup">
		<h1 id="posts-label">POST</h1>
	</div>  
	<!-- post title -->
	<h2 class="post-title-body">Python Pillow library usage</h2>
	<div class="post-meta">
		<div class="post-date icon-calendar" style = "padding-left:0px;font-size:14px">Mar 7, 2019</div>
		
		<!-- sidebar button for displaying/hiding sidebar -->
		<div class = "sidebar-btn-box"><a class="btn"></a></div>
		
	</div>
</div>
  <!-- post content here! -->
  <!-- set fix width box to put content! -->
<div class="post-viewer-container">
	<div class="post post-fix-width">
		<p>I recently completed some image processing works by Pillow Library. Pillow provides a powerful function and has friendly APIs to the developer. I thought it is necessary to make some notes here for the usage.</p>

<h2 id="what-is-pillow">What is Pillow?</h2>
<p>We cannot say Pillow is PIL, even total from PIL. Actually, Pillow is an open-source project of Github, it is more like a derived branch of PIL. We all know PIL (Python Image Library) is the previous third-party image processing library of python and is almost regarded as the official image processing library of Python because of the powerful function. However, the last PIL release is at build 1.1.7 in 2009 which can only support Python 2. PIL’s release schedule is too infrequent so that some volunteers created an open-source project on Github for providing a compatible version on the basis of PIL. It’s called <code class="language-plaintext highlighter-rouge">Pillow</code>. Pillow added in some features based on PIL and provided support to Python 3. With the update of the version and many bug fixes from many contributors, Pillow has developed into a more dynamic image processing library than PIL itself. Pillow can be said to have replaced PIL.</p>

<p>The source code of Pillow is at <a href="https://github.com/python-pillow/Pillow">Github repository</a>. <br />
The official website is <a href="https://python-pillow.org/">here</a>.<br /></p>

<h2 id="what-can-pillow-do">What Can Pillow do?</h2>
<p>Pillow provides fairly powerful image processing capabilities for Python. It can do many things related to image processing and support the extensive file format.</p>

<p>Below is the official description of Pillow.</p>

<blockquote>
  <p><strong>Image Archives</strong>
The Python Imaging Library is ideal for image archival and batch processing applications. You can use the library to create thumbnails, convert between file formats, print images, etc. <br />
The current version identifies and reads a large number of formats. Write support is intentionally restricted to the most commonly used interchange and presentation formats. <br />
<strong>Image Display</strong>
The current release includes Tk PhotoImage and BitmapImage interfaces, as well as a Windows DIB interface that can be used with PythonWin and other Windows-based toolkits. Many other GUI toolkits come with some kind of PIL support. <br />
For debugging, there’s also a show() method which saves an image to disk, and calls an external display utility.  <br />
<strong>Image Processing</strong>
The library contains basic image processing functionality, including point operations, filtering with a set of built-in convolution kernels, and color space conversions. <br />
The library also supports image resizing, rotation, and arbitrary affine transform. <br />
There’s a histogram method allowing you to pull some statistics out of an image. This can be used for automatic contrast enhancement and global statistical analysis.</p>
</blockquote>

<h2 id="usage">Usage</h2>
<h3 id="installation">Installation</h3>

<p>Below is the python version information that Pillow can support.
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-01.png" alt="support version" class="center-image" /></p>

<p>Pillow has been packaged into a standard Python library so the installation is quite easy, uses pip complete installation.</p>

<p>Here is a reminder that Pillow and PIL cannot co-exist in the same environment. Before installing Pillow, need to uninstall PIL firstly.</p>

<p>Install Pillow with pip:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span></code></pre></figure>

<h3 id="image-class">Image Class</h3>
<p>The most important class in the Python Imaging Library is the Image class. <br />
Before use the library, need to import it first.<br /></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#python2 
</span><span class="kn">import</span> <span class="n">Image</span> 

<span class="c1">#python3 
</span><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span></code></pre></figure>

<h3 id="some-useful-methods">Some useful methods</h3>

<p>Here we take the example of python3.</p>

<ul>
  <li><strong>Open()/Show()</strong><br />
To load an image from a file, use the <code class="language-plaintext highlighter-rouge">open()</code> function in the Image module. If successful, this function returns an Image object. You can now use instance attributes to examine the file contents:</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.jpg</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="n">im</span><span class="p">.</span><span class="n">mode</span><span class="p">,</span><span class="n">im</span><span class="p">.</span><span class="nb">format</span><span class="p">)</span>
<span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="n">RGB</span> <span class="n">JPEG</span>
<span class="n">im</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p>The format attribute identifies the source of an image. If the image was not read from a file, it is set to None. The size attribute is a 2-tuple containing width and height (in pixels). The mode attribute defines the number and names of the bands in the image, and also the pixel type and depth. Common modes are <code class="language-plaintext highlighter-rouge">L</code> (luminance) for greyscale images, <code class="language-plaintext highlighter-rouge">RGB</code> for true color images, and <code class="language-plaintext highlighter-rouge">CMYK</code> for pre-press images.<br />
Above four-row codes will open and display an image on the screen. it will use the default image viewer of your computer to show the image.
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-02.jpg" alt="image" class="center-image" /></p>

<ul>
  <li><strong>resize()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="nf">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">im</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></code></pre></figure>

<p><img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-03.JPG" alt="image" class="center-image" /></p>

<ul>
  <li><strong>transpose()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im_rotate_180</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="n">Image</span><span class="p">.</span><span class="n">ROTATE_180</span><span class="p">)</span>
<span class="n">im_rotate_180</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-04.JPG" alt="image" class="center-image" /> <br />
The parameters can be <br />
-<code class="language-plaintext highlighter-rouge">Image.FLIP_LEFT_RIGHT</code>, which means to flip the image left and right<br />
-<code class="language-plaintext highlighter-rouge">Image.FLIP_TOP_BOTTOM</code>, which means to flip the image up and down<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_90</code>, which means to rotate the image 90 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_180</code>, which means to rotate the image 180 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_270</code>, Means to rotate the image 270 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.TRANSPOSE</code>, which means to rotate the image (equivalent to 90 ° clockwise rotation)<br />
-<code class="language-plaintext highlighter-rouge">Image.TRANSVERSE</code>, which means to transpose the image and then turn it horizontally<br /></p>

<ul>
  <li><strong>crop()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">crop</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
<span class="n">region</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p>The above code cuts out a box rectangle area on the <code class="language-plaintext highlighter-rouge">im</code> and displays it. The box is a tuple with four numbers (upper left, upper left, lower right, lower right). Each pixel represents a coordinate <code class="language-plaintext highlighter-rouge">unit. Crop()</code> still returns an image object.<br /></p>

<p><img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-05.JPG" alt="image" class="center-image" /></p>

<ul>
  <li><strong>filter()</strong><br />
Image can provide below filters.<br />
<code class="language-plaintext highlighter-rouge">BLUR</code>、<code class="language-plaintext highlighter-rouge">CONTOUR</code>、<code class="language-plaintext highlighter-rouge">DETAIL</code>、<code class="language-plaintext highlighter-rouge">EDGE_ENHANCE</code>、<code class="language-plaintext highlighter-rouge">EDGE_ENHANCE_MORE</code>、<br /><code class="language-plaintext highlighter-rouge">EMBOSS</code>、<code class="language-plaintext highlighter-rouge">FIND_EDGES</code>、<code class="language-plaintext highlighter-rouge">SMOOTH</code>、<code class="language-plaintext highlighter-rouge">SMOOTH_MORE</code>、<code class="language-plaintext highlighter-rouge">SHARPEN</code>.<br />
Below we demonstrate some of the effect of filters.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">ImageFilter</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">blur</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">BLUR</span><span class="p">)</span>
<span class="n">conf</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">CONTOUR</span><span class="p">)</span>
<span class="n">edge</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">FIND_EDGES</span><span class="p">)</span>
<span class="n">smooth</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">SMOOTH</span><span class="p">)</span>
<span class="n">sharpen</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">SHARPEN</span><span class="p">)</span>
<span class="n">emboss</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">EMBOSS</span><span class="p">)</span>
<span class="n">blur</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">conf</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">edge</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">smooth</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">sharpen</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">emboss</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">BLUR</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-06.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">CONTOUR</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-07.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">EDGE</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-08.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">SMOOTH</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-09.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">SHARPEN</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-10.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">EMBOSS</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-11.JPG" alt="emboss" class="center-image" /><br /></p>

<ul>
  <li><strong>rotate()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">im_45</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="n">im_90</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="n">im_45</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">im_90</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">rotate 45 degree</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-12.JPG" alt="rotate45" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">rotate 90 degree</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-13.JPG" alt="rotate45" class="center-image" /><br /></p>

<ul>
  <li><strong>convert()</strong><br />
<code class="language-plaintext highlighter-rouge">Convert()</code> is a method of image instance object. It accepts a mode parameter to specify a color mode. The value of mode can be as follows:<br />
· <code class="language-plaintext highlighter-rouge">1</code> (1-bit pixels, black and white, stored with one pixel per byte)<br />
· <code class="language-plaintext highlighter-rouge">L</code> (8-bit pixels, black and white)<br />
· <code class="language-plaintext highlighter-rouge">P</code> (8-bit pixels, mapped to any other mode using a color palette)<br />
· <code class="language-plaintext highlighter-rouge">RGB</code> (3x8-bit pixels, true color)<br />
· <code class="language-plaintext highlighter-rouge">RGBA</code> (4x8-bit pixels, true color with transparency mask)<br />
· <code class="language-plaintext highlighter-rouge">CMYK</code> (4x8-bit pixels, color separation)<br />
· <code class="language-plaintext highlighter-rouge">YCbCr</code> (3x8-bit pixels, color video format)<br />
· <code class="language-plaintext highlighter-rouge">I</code> (32-bit signed integer pixels)<br />
· <code class="language-plaintext highlighter-rouge">F</code> (32-bit floating point pixels)<br /></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">im_1</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">"</span><span class="s">1</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im_L</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">"</span><span class="s">L</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im_P</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">"</span><span class="s">P</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im_CMYK</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">"</span><span class="s">CMYK</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im_F</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">"</span><span class="s">F</span><span class="sh">"</span><span class="p">)</span>
<span class="n">im_1</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">im_L</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">im_P</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">im_CMYK</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">im_F</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">mode 1</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-14.JPG" alt="mode1" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode L</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-15.JPG" alt="model" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode p</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-16.JPG" alt="modep" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode CMYK</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-17.JPG" alt="modecmyk" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode F</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-18.JPG" alt="modef" class="center-image" /><br /></p>

<ul>
  <li><strong>paste()</strong><br />
Paste one image onto another.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">crop</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
<span class="n">im</span><span class="p">.</span><span class="nf">paste</span><span class="p">(</span><span class="n">region</span><span class="p">,(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">im</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p>in above code, <code class="language-plaintext highlighter-rouge">region</code> is the object to be pasted. <br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-19.JPG" alt="paste" class="center-image" /><br /></p>

<ul>
  <li><strong>split()</strong><br />
<code class="language-plaintext highlighter-rouge">Split()</code> method can separate each channel of the original image. For example, for <code class="language-plaintext highlighter-rouge">RGB</code> image, the three color channels <code class="language-plaintext highlighter-rouge">R</code>, <code class="language-plaintext highlighter-rouge">G</code> and <code class="language-plaintext highlighter-rouge">B</code> can be separated.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">python-pillow-02.JPG</span><span class="sh">"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nf">split</span><span class="p">()</span>
<span class="n">r</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">g</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">b</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">R</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-20.JPG" alt="R" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">G</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-21.JPG" alt="G" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">B</code><br />
<img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-22.JPG" alt="B" class="center-image" /><br /></p>

<ul>
  <li><strong>merge()</strong><br />
Merge method and split method are relative. it combines multiple single channel sequences to form a multi-channel image. Mode is the mode of the combined image, such as <code class="language-plaintext highlighter-rouge">RGB</code>, and channels is the sequence composed of multiple single channels.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im_merge</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="sh">"</span><span class="s">RGB</span><span class="sh">"</span><span class="p">,[</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">])</span>
<span class="n">im_merge</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span></code></pre></figure>

<p><img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/python-pillow-23.JPG" alt="merge" class="center-image" /><br /></p>


	</div>
	<!-- put sidebar! -->
	
	<div class = "sidebar-container">
	    
	    <div class = "sidebar-about-box" id = "sidebar">
		    
				<p class = "sidebar-title">About This Article</p>
			
			
				
					<P class = "sidebar-about-content sidebar-font-big">This article introduced the Python Pillow library usage explicitly by referring author's experience.</P>
				
				
					<P class = "icon-link sidebar-about-content sidebar-font-medium" style = "margin-top:30px">Author: <a href="https://github.com/gangdong">david.dong</a></P>
				
					<P class = "icon-clock sidebar-about-content sidebar-font-medium">17 mins to read</P>
					<P class = "icon-book-1 sidebar-about-content sidebar-font-medium">6774 words</P>
				
					<P class = "icon-th-list sidebar-about-content sidebar-font-medium">Key Words: Python/Pillow</P>
				
				
				    <P class = "icon-hashtag sidebar-about-content sidebar-font-medium">Tags: 
					
					<a href="/category#Python">Python&nbsp;</a>
					
					</P>
				
			
		</div>
		
		
	    <div class="sidebar-toc-box">
			
			<p class = "sidebar-title">Table of Contents</p>
			<span class = "sidebar-font-medium sidebar-toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#what-is-pillow">What is Pillow?</a></li>
<li class="toc-entry toc-h2"><a href="#what-can-pillow-do">What Can Pillow do?</a></li>
<li class="toc-entry toc-h2"><a href="#usage">Usage</a>
<ul>
<li class="toc-entry toc-h3"><a href="#installation">Installation</a></li>
<li class="toc-entry toc-h3"><a href="#image-class">Image Class</a></li>
<li class="toc-entry toc-h3"><a href="#some-useful-methods">Some useful methods</a></li>
</ul>
</li>
</ul></span>
			
		</div>
		
	</div>
	 
</div>
<!-- no sidebar, use flex width box! -->
<br>
<div class="post-container">
    <!-- post categories box! here  -->
    
   <div class="post-categories-meta">
		<div class="post-categories-box post-categories-box-hide"><a href="/category#Python">Python</a></div>
	</div>
  
  
  <div class = "share-box-meta">
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
	
	<div class="addthis_inline_share_toolbox share-box"><span style ="padding: 2px">Share:</span></div>
	
	<!-- Put post veiw statistic here! -->
	<div class = "post-view">
	
		<span class = "icon-eye tooltip"><p class = "tooltiptext" style = "left:0%; margin-left: 0px">Viewers</p><span id="busuanzi_value_page_pv"></span></span>
		
	</div>
  </div>
  
  <!-- Related posts start here! -->
		
		<h1 id="posts-label">You may also like</h1>
		
	  <div class = "related-posts-box">
		<ul>
			
			<li><a href="/python/2021/06/03/Python-pypy.html">Use Pypy to make Python run faster</a></li>
			
			<li><a href="/python/2019/05/11/Python-re.html">Python re module</a></li>
			
			<li><a href="/python/2019/05/03/Python-pack.html">Python struct.pack()</a></li>
			
			<li><a href="/python/2019/04/01/Python-coding-spec.html">Python 开发编码规范（转）</a></li>
			
			<li><a href="/python/2019/01/23/Python-installation-ubuntu.html">Install python3.6 on ubuntu16.04</a></li>
			
		</ul>
	  </div>
	  
	
  <!-- Page navigation start here! -->
   <h1 id="posts-label">further reading</h1>
  
  <div class = "separator"></div>
  <div class="navigation-meta"><div class="navigation-bar">
	 
	 <a href="/pinned/2019/02/23/Pinned-Template-english.html"><span>Previous Post</span><br>RawPosts - A theme for Jekyll</a>
	 
    </div><div class="navigation-bar"> 
	 
     <a href="/blog/2019/03/20/Blog-mathjax.html"><span>Next Post</span><br>Display mathematics formula in blog with MathJax</a>
	 
    </div></div><br>
  <!-- comment box starts here! -->
    <!-- disqus start  --><!-- Gitalk start  -->
  <!-- Link Gitalk support file  -->
  <section class="gitalk">
  <div id="gitalk_thread"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript" src="/assets/js/md5.min.js"></script>
  <div id="gitalk-container"></div>
  <script type="text/javascript">
   var gitalk = new Gitalk({
   // gitalk parameters
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'gangdong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: md5(location.pathname),
   title: 'comments'
    });
   gitalk.render('gitalk-container');
  </script>
  </section>
  <!-- Gitalk end -->
  <br/><br/><br/><div class = "footer">© 2012-2021 David Dong. All rights reserved.</div>
  
  <br>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-604f502a8198c9c9&domready=1"></script>


<!-- sidebar button, toggle display/hide sidebar -->
<script type="text/javascript">
        $('.btn').on('click',function(){
            $('.btn').toggleClass('btnc');
            $('.sidebar-container').toggleClass('sidebar-container-hide');
        })
</script>

      </section>
    </main><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MXGF3F8QN"></script>
      <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-3MXGF3F8QN');
	</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body>
</html>
