<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="keywords"  content="董刚, DavidDong, David, 董刚的博客, David Dong's Blog, 博客, 个人网站, 互联网, Web, 手机, 人机接口, Touch, Fingerprint，Github Pages TEE Java Python C Android">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Getevent command usage | David Dong’s Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Getevent command usage" />
<meta name="author" content="david.dong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This article introduced Android ADB command Getevent command usage." />
<meta property="og:description" content="This article introduced Android ADB command Getevent command usage." />
<link rel="canonical" href="http://localhost:4000/android/2015/02/25/Android-getevent.html" />
<meta property="og:url" content="http://localhost:4000/android/2015/02/25/Android-getevent.html" />
<meta property="og:site_name" content="David Dong’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-02-25T20:33:04+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Getevent command usage" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"david.dong"},"dateModified":"2015-02-25T20:33:04+08:00","datePublished":"2015-02-25T20:33:04+08:00","description":"This article introduced Android ADB command Getevent command usage.","headline":"Getevent command usage","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/android/2015/02/25/Android-getevent.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/logo.png"},"name":"david.dong"},"url":"http://localhost:4000/android/2015/02/25/Android-getevent.html"}</script>
<!-- End Jekyll SEO tag -->



<meta property="article:tag" content="Android">


<link href="https://fonts.font.im/css?family=Poppins:400,900|Raleway|Roboto:400,900|Roboto+Mono&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/favicon.ico">

	<!-- default stylesheet monokai.sublime ! -->
	
	<link href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/css/syntax/syntax.monokai.sublime.css" rel="stylesheet"/>
	

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>

</head><body>
    <main class="container">
      <section class="about condensed">
	    <div class="about-header condensed">
			<div class="about-title">
				<a href="/blog/index.html">
				  <img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/avatar-11.png" alt="David Dong"/>
				</a>
				<div class = "title-meta">
					<h2 id="title">
					  <a href="/blog/index.html">David Dong</a>
					</h2>
					<p class = "tagline-small">Java/C/C#/Python</p>
				</div>
			</div>
			<p class="tagline">Java/C/C#/Python</p>
		</div>
		<!--put dark mode button here -->
		<div class = "about-footer condensed">
		  <!--put rss/code link here -->
			<div class="icon-box-container about-footer condensed"><div class = "icon-box" style = "padding-right:0px">
					<a id="dark-mode-toggle" class="togglemode dark-mode" onclick="toggleDarkMode()">
						<span id = "mode">Dark Mode</span>
					</a>
				</div>
				<!-- toggle dark/light display mode, should loading darkmode.js here for avoiding flicker when switching -->
				<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/js/darkmode.js"></script>
				<script type="text/javascript">
				$('.dark-mode').on('click',function(){
					$('.dark-mode').toggleClass('light-mode');
					if (document.getElementById("mode").innerHTML=="Light Mode")
						document.getElementById("mode").innerHTML="Dark Mode";
					else 
						document.getElementById("mode").innerHTML="Light Mode";
				})
				</script><div class = "icon-box">
					<a class="icon-rss" href="/rss.xml">
						<span>Subscribe</span>
					</a>
				</div><div class = "icon-box">
					<a class="icon-file-code" href="https://github.com/gangdong/gangdong.github.io">
						<span>Source Code</span>
					</a>
				</div></div>
		</div>
		
	    <!--show contact me -->
		<div class = "about-footer condensed social-container">
	    <p class = "contact about-footer condensed">CONTACT ME</p>
		<!-- put social link here -->
	      <ul class="social about-footer condensed" >
		   <a href="https://rainbow-ux.github.io/traveler-blog.github.io">
              <li>
                <i class="icon-picture"></i>
              </li>
           </a><a href="https://github.com/gangdong">
              <li>
                <i class="icon-github-circled"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/刚-董-25208ba0/">
              <li>
                <i class="icon-linkedin-squared"></i>
              </li>
            </a><a href="mailto:dqdongg@hotmail.com">
              <li>
                <i class="icon-mail" style = "font-size: 27px"></i>
              </li>
            </a></ul>
		<!--put timestamp here -->
		<p class ="timestamp about-footer condensed">&copy; 2024</p>
		</div>
	  <!-- about box end here -->
      </section>
	  
      <section class="content">
        


<!-- add menu bar here! -->
<div class="post-container">
	<div  class = "menu-meta condensed">
		<!--put top menu here, display @ big screen (> $mobileW) -->
		<div  class = "menu-logo">BLOG</div>
		<div  class = "menu">
			<a href="/blog/index.html">
				<li class="icon-home">Home</li>
			</a><a href="/archive">
				<li class="icon-archive">Archives</li>
			</a><a href="/category">
				<li class="icon-tags">Categories</li>
			</a><a href="/about">
				<li class="icon-help-circled">About</li>
			</a>
		</div>
		<!--put hide menu button here, display @ small screen (< $mobileW) -->
		<div class = "menu-btn-box"><a class="menu-btn"></a></div>
		<!--put hide menu here, display @ small screen (< $mobileW) -->
		<div class="context-menu">
			<ul >
				<li>
					<a class="icon-home" href="/blog/index.html">Home</a>
				</li><li>
					<a class="icon-archive" href="/archive">Archives</a>
				</li><li>
					<a class="icon-tags" href="/category">Categories</a>
				</li><li>
					<a class="icon-help-circled" href="/about">About</a>
				</li>
			</ul>
		</div>
	</div>
</div>
<script type="text/javascript">
$('.menu-btn').on('click',function(e){
		
	e.stopPropagation();
	var tag = $('.context-menu');		
	$(tag).toggleClass('context-menu-show');
			
	var flag = true;
	/* hide the context-menu when other element is clicked */
	$(document).bind('click',function(e){
		var target = $(e.target);
		if(target.closest(tag).length == 0 && flag == true){
			$(tag).toggleClass('context-menu-show');
			flag = false;
		}
	});
})
</script><div class="post-container" style = "margin-bottom:1rem">
	<div class="posts-labelgroup" id="posts-labelgroup">
		<h1 id="posts-label">POST</h1>
	</div>  
	<!-- post title -->
	<h2 class="post-title-body">Getevent command usage</h2>
	<div class="post-meta">
		<div class="post-date icon-calendar" style = "padding-left:0px;font-size:14px">Feb 25, 2015</div>
		
		<!-- sidebar button for displaying/hiding sidebar -->
		<div class = "sidebar-btn-box"><a class="btn"></a></div>
		
	</div>
</div>
  <!-- post content here! -->
  <!-- set fix width box to put content! -->
<div class="post-viewer-container">
	<div class="post post-fix-width">
		<p>Android provides an ADB command <code class="language-plaintext highlighter-rouge">getevent</code> to obtain input events, such as obtaining key reporting events, obtaining touch screen reporting events, etc.</p>

<p>Users can use this command under the ADB console.</p>

<h2 id="usage">Usage</h2>
<p>The usage of this command is:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">adb shell getevent <span class="o">[</span>options] <span class="o">[</span>device]</code></pre></figure>

<p>We input <code class="language-plaintext highlighter-rouge">adb shell getevent -h</code> on the CMD command line and will get the help information about this command.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">Usage: getevent <span class="o">[</span><span class="nt">-t</span><span class="o">]</span> <span class="o">[</span><span class="nt">-n</span><span class="o">]</span> <span class="o">[</span><span class="nt">-s</span> switchmask] <span class="o">[</span><span class="nt">-S</span><span class="o">]</span> <span class="o">[</span><span class="nt">-v</span> <span class="o">[</span>mask]] <span class="o">[</span><span class="nt">-d</span><span class="o">]</span> <span class="o">[</span><span class="nt">-p</span><span class="o">]</span> <span class="o">[</span><span class="nt">-i</span><span class="o">]</span> <span class="o">[</span><span class="nt">-l</span><span class="o">]</span> <span class="o">[</span><span class="nt">-q</span><span class="o">]</span>
<span class="o">[</span><span class="nt">-c</span> count] <span class="o">[</span><span class="nt">-r</span><span class="o">]</span> <span class="o">[</span>device]
  <span class="nt">-t</span>: show <span class="nb">time </span>stamps
  <span class="nt">-n</span>: don<span class="s1">'t print newlines
  -s: print switch states for given bits
  -S: print all switch states
  -v: verbosity mask (errs=1, dev=2, name=4, info=8, vers=16, pos. events=32, 
      props=64)
  -d: show HID descriptor, if available
  -p: show possible events (errs, dev, name, pos. events)
  -i: show all device info and possible events
  -l: label event types and names in plain text
  -q: quiet (clear verbosity mask)
  -c: print given number of events then exit
  -r: print rate events are received</span></code></pre></figure>

<p>To display which input devices are on the system, use</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">adb shell getevent </code></pre></figure>

<p>the command will return all of the input devices that the system used. For below my example, there are 7 input devices that registered at dev/input.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">add device 1: /dev/input/event6
  name:     <span class="s2">"sdm670-mtp-snd-card Button Jack"</span>
add device 2: /dev/input/event5
  name:     <span class="s2">"sdm670-mtp-snd-card Headset Jack"</span>
add device 3: /dev/input/event4
  name:     <span class="s2">"capsense_bottom"</span>
add device 4: /dev/input/event3
  name:     <span class="s2">"capsense_top"</span>
add device 5: /dev/input/event2
  name:     <span class="s2">"himax-touchscreen"</span>
add device 6: /dev/input/event0
  name:     <span class="s2">"qpnp_pon"</span>
add device 7: /dev/input/event1
  name:     <span class="s2">"gpio-keys"</span></code></pre></figure>

<p>Below are some examples, we can find the touchscreen input event is registered at /dev/input/event2, so we use the touchscreen as an input device for the interpretation.</p>

<ul>
  <li>non-parameter:</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent /dev/input/event2
0003 0030 0000000f
0003 0032 0000000f
0003 003a 0000000f
0003 0035 00000154</code></pre></figure>

<p>Here the first column represents the <code class="language-plaintext highlighter-rouge">EVENT_TYPE</code>, the second column displays the <code class="language-plaintext highlighter-rouge">EVENT_CODE</code> and the third column is <code class="language-plaintext highlighter-rouge">EVENT_VALUE</code>.</p>

<ul>
  <li>-t: display timestamp</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-t</span> /dev/input/event2
<span class="o">[</span>    1564.568377] 0003 0030 0000000f
<span class="o">[</span>    1564.568377] 0003 0032 0000000f
<span class="o">[</span>    1564.568377] 0003 003a 0000000f</code></pre></figure>

<ul>
  <li>-r: print report rate</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-r</span> /dev/input/event2
0003 0032 00000027
0003 003a 00000027
0000 0000 00000000 rate 135</code></pre></figure>

<ul>
  <li>-p: print the event informaiton supported by the device.</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-p</span> /dev/input/event2
add device 1: /dev/input/event2
  name:     <span class="s2">"himax-touchscreen"</span>
  events:
    KEY <span class="o">(</span>0001<span class="o">)</span>: 0066  008b  009e  00d9  014a  0244
    ABS <span class="o">(</span>0003<span class="o">)</span>: 002f  : value 0, min 0, max 9, fuzz 0, flat 0, resolution 0
                0030  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
                0032  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
                0035  : value 0, min 0, max 719, fuzz 0, flat 0, resolution 0
                0036  : value 0, min 0, max 1599, fuzz 0, flat 0, resolution 0
                0039  : value 0, min 0, max 65535, fuzz 0, flat 0, resolution 0
                003a  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
  input props:
    INPUT_PROP_DIRECT</code></pre></figure>

<ul>
  <li>-i: similar to -p, but will contain more information.</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-i</span> /dev/input/event2
add device 1: /dev/input/event2
  bus:      0000
  vendor    0000
  product   0000
  version   0000
  name:     <span class="s2">"himax-touchscreen"</span>
  location: <span class="s2">""</span>
  <span class="nb">id</span>:       <span class="s2">""</span>
  version:  1.0.1
  events:
    KEY <span class="o">(</span>0001<span class="o">)</span>: 0066  008b  009e  00d9  014a  0244
    ABS <span class="o">(</span>0003<span class="o">)</span>: 002f  : value 0, min 0, max 9, fuzz 0, flat 0, resolution 0
                0030  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
                0032  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
                0035  : value 0, min 0, max 719, fuzz 0, flat 0, resolution 0
                0036  : value 0, min 0, max 1599, fuzz 0, flat 0, resolution 0
                0039  : value 0, min 0, max 65535, fuzz 0, flat 0, resolution 0
                003a  : value 0, min 0, max 200, fuzz 0, flat 0, resolution 0
  input props:
    INPUT_PROP_DIRECT</code></pre></figure>

<ul>
  <li>-l: print the event type/event code by plain text.</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-l</span> /dev/input/event2
EV_ABS       ABS_MT_TOUCH_MAJOR   0000000f
EV_ABS       ABS_MT_WIDTH_MAJOR   0000000f
EV_ABS       ABS_MT_PRESSURE      0000000f</code></pre></figure>

<p>Compare with the default output, the <code class="language-plaintext highlighter-rouge">-l</code> output use the plain text replace the raw code of <code class="language-plaintext highlighter-rouge">EVENT_TYPE/EVENT_CODE/EVENT_VALUE</code> which is more intuitive.</p>
<ul>
  <li>-c: print given number of events then exit</li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-c</span> 10  /dev/input/event2
0003 0030 0000000f
0003 0032 0000000f
0003 003a 0000000f
0003 0035 0000016d
0003 0036 00000459
0003 0039 00000025
0001 014a 00000001
0000 0000 00000000
0003 0030 00000031
0003 0032 00000031</code></pre></figure>

<p>normal when we debug the touchscreen, we usually use below command to obtain the input event. This command will give all information with plain text output, which is useful for obtain the image of which input event is occurring.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">C:<span class="se">\W</span>INDOWS<span class="se">\S</span>ystem32&gt;adb shell getevent <span class="nt">-ltr</span>  /dev/input/event2
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_TOUCH_MAJOR   0000000f
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_WIDTH_MAJOR   0000000f
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_PRESSURE      0000000f
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_POSITION_X    0000013f
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_POSITION_Y    000003e6
<span class="o">[</span>    2311.461360] EV_ABS       ABS_MT_TRACKING_ID   00000026
<span class="o">[</span>    2311.461360] EV_KEY       BTN_TOUCH            DOWN
<span class="o">[</span>    2311.461360] EV_SYN       SYN_REPORT           00000000</code></pre></figure>

<p>The source code is at <a href="https://www.androidos.net.cn/android/9.0.0_r8/xref/system/core/toolbox/getevent.c">getevent.c</a>.</p>

	</div>
	<!-- put sidebar! -->
	
	<div class = "sidebar-container">
	    
	    <div class = "sidebar-about-box" id = "sidebar">
		    
				<p class = "sidebar-title">About This Article</p>
			
			
				
					<P class = "sidebar-about-content sidebar-font-big">This article introduced Android ADB command Getevent command usage.</P>
				
				
					<P class = "icon-link sidebar-about-content sidebar-font-medium" style = "margin-top:30px">Author: <a href="https://github.com/gangdong">david.dong</a></P>
				
					<P class = "icon-clock sidebar-about-content sidebar-font-medium">12 mins to read</P>
					<P class = "icon-book-1 sidebar-about-content sidebar-font-medium">4441 words</P>
				
					<P class = "icon-th-list sidebar-about-content sidebar-font-medium">Key Words: Android, Getevent</P>
				
				
				    <P class = "icon-hashtag sidebar-about-content sidebar-font-medium">Tags: 
					
					<a href="/category#Android">Android&nbsp;</a>
					
					</P>
				
			
		</div>
		
		
	</div>
	 
</div>
<!-- no sidebar, use flex width box! -->
<br>
<div class="post-container">
    <!-- post categories box! here  -->
    
   <div class="post-categories-meta">
		<div class="post-categories-box post-categories-box-hide"><a href="/category#Android">Android</a></div>
	</div>
  
  
  <div class = "share-box-meta">
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
	
	<div class="addthis_inline_share_toolbox share-box"><span style ="padding: 2px">Share:</span></div>
	
	<!-- Put post veiw statistic here! -->
	<div class = "post-view">
	
		<span class = "icon-eye tooltip"><p class = "tooltiptext" style = "left:0%; margin-left: 0px">Viewers</p><span id="busuanzi_value_page_pv"></span></span>
		
	</div>
  </div>
  
  <!-- Related posts start here! -->
		
		<h1 id="posts-label">You may also like</h1>
		
	  <div class = "related-posts-box">
		<ul>
			
			<li><a href="/android/linux/2021/05/09/Android-jack-issue.html">Fixing the issue: Communication error with Jack server (35) when building AOSP</a></li>
			
			<li><a href="/android/fingerprint/2021/02/04/Fingerprint-build-ta.html">Build TA images on different TEE</a></li>
			
			<li><a href="/android/fingerprint/2020/12/02/Fingerprint-Trusty.html">Some useful knowledge for Fingerprint Application on Trusty TEE</a></li>
			
			<li><a href="/android/fingerprint/2020/01/09/Fingerprint-impl-AN8.0.html">Fingerprint implementation in android 8.0 and later</a></li>
			
			<li><a href="/android/fingerprint/2019/12/21/Fingerprint-frmk3.html">Android Fingerprint Framework (3)</a></li>
			
		</ul>
	  </div>
	  
	
  <!-- Page navigation start here! -->
   <h1 id="posts-label">further reading</h1>
  
  <div class = "separator"></div>
  <div class="navigation-meta"><div class="navigation-bar">
	 
	 <a href="/linux/2014/11/11/Linux-phony.html"><span>Previous Post</span><br>Use of .PHONY in makefile</a>
	 
    </div><div class="navigation-bar"> 
	 
     <a href="/android/2015/04/11/Android-read-property.html"><span>Next Post</span><br>Read/Write system property in Android APP</a>
	 
    </div></div><br>
  <!-- comment box starts here! -->
    <!-- disqus start  --><!-- Gitalk start  -->
  <!-- Link Gitalk support file  -->
  <section class="gitalk">
  <div id="gitalk_thread"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript" src="/assets/js/md5.min.js"></script>
  <div id="gitalk-container"></div>
  <script type="text/javascript">
   var gitalk = new Gitalk({
   // gitalk parameters
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'gangdong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: md5(location.pathname),
   title: 'comments'
    });
   gitalk.render('gitalk-container');
  </script>
  </section>
  <!-- Gitalk end -->
  <br/><br/><br/><div class = "footer">© 2012-2021 David Dong. All rights reserved.</div>
  
  <br>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-604f502a8198c9c9&domready=1"></script>


<!-- sidebar button, toggle display/hide sidebar -->
<script type="text/javascript">
        $('.btn').on('click',function(){
            $('.btn').toggleClass('btnc');
            $('.sidebar-container').toggleClass('sidebar-container-hide');
        })
</script>

      </section>
    </main><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MXGF3F8QN"></script>
      <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-3MXGF3F8QN');
	</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body>
</html>
