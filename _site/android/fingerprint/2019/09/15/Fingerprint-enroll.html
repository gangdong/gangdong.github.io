<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="keywords"  content="董刚, DavidDong, David, 董刚的博客, David Dong's Blog, 博客, 个人网站, 互联网, Web, 手机, 人机接口, Touch, Fingerprint，Github Pages TEE Java Python C Android">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Fingerprint enrollment in Android | David Dong’s Blog</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Fingerprint enrollment in Android" />
<meta name="author" content="david.dong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Some knowledge of the Fingerprint enrollment process in the Android platform." />
<meta property="og:description" content="Some knowledge of the Fingerprint enrollment process in the Android platform." />
<link rel="canonical" href="http://localhost:4000/android/fingerprint/2019/09/15/Fingerprint-enroll.html" />
<meta property="og:url" content="http://localhost:4000/android/fingerprint/2019/09/15/Fingerprint-enroll.html" />
<meta property="og:site_name" content="David Dong’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-15T22:14:47+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Fingerprint enrollment in Android" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"david.dong"},"dateModified":"2019-09-15T22:14:47+08:00","datePublished":"2019-09-15T22:14:47+08:00","description":"Some knowledge of the Fingerprint enrollment process in the Android platform.","headline":"Fingerprint enrollment in Android","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/android/fingerprint/2019/09/15/Fingerprint-enroll.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/logo.png"},"name":"david.dong"},"url":"http://localhost:4000/android/fingerprint/2019/09/15/Fingerprint-enroll.html"}</script>
<!-- End Jekyll SEO tag -->



<meta property="article:tag" content="Android">

<meta property="article:tag" content="Fingerprint">


<link href="https://fonts.font.im/css?family=Poppins:400,900|Raleway|Roboto:400,900|Roboto+Mono&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/favicon.ico">

	<!-- default stylesheet monokai.sublime ! -->
	
	<link href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/css/syntax/syntax.monokai.sublime.css" rel="stylesheet"/>
	

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>

</head><body>
    <main class="container">
      <section class="about condensed">
	    <div class="about-header condensed">
			<div class="about-title">
				<a href="/blog/index.html">
				  <img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/avatar-11.png" alt="David Dong"/>
				</a>
				<div class = "title-meta">
					<h2 id="title">
					  <a href="/blog/index.html">David Dong</a>
					</h2>
					<p class = "tagline-small">Java/C/C#/Python</p>
				</div>
			</div>
			<p class="tagline">Java/C/C#/Python</p>
		</div>
		<!--put dark mode button here -->
		<div class = "about-footer condensed">
		  <!--put rss/code link here -->
			<div class="icon-box-container about-footer condensed"><div class = "icon-box" style = "padding-right:0px">
					<a id="dark-mode-toggle" class="togglemode dark-mode" onclick="toggleDarkMode()">
						<span id = "mode">Dark Mode</span>
					</a>
				</div>
				<!-- toggle dark/light display mode, should loading darkmode.js here for avoiding flicker when switching -->
				<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/js/darkmode.js"></script>
				<script type="text/javascript">
				$('.dark-mode').on('click',function(){
					$('.dark-mode').toggleClass('light-mode');
					if (document.getElementById("mode").innerHTML=="Light Mode")
						document.getElementById("mode").innerHTML="Dark Mode";
					else 
						document.getElementById("mode").innerHTML="Light Mode";
				})
				</script><div class = "icon-box">
					<a class="icon-rss" href="/rss.xml">
						<span>Subscribe</span>
					</a>
				</div><div class = "icon-box">
					<a class="icon-file-code" href="https://github.com/gangdong/gangdong.github.io">
						<span>Source Code</span>
					</a>
				</div></div>
		</div>
		
	    <!--show contact me -->
		<div class = "about-footer condensed social-container">
	    <p class = "contact about-footer condensed">CONTACT ME</p>
		<!-- put social link here -->
	      <ul class="social about-footer condensed" >
		   <a href="https://rainbow-ux.github.io/traveler-blog.github.io">
              <li>
                <i class="icon-picture"></i>
              </li>
           </a><a href="https://github.com/gangdong">
              <li>
                <i class="icon-github-circled"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/刚-董-25208ba0/">
              <li>
                <i class="icon-linkedin-squared"></i>
              </li>
            </a><a href="mailto:dqdongg@hotmail.com">
              <li>
                <i class="icon-mail" style = "font-size: 27px"></i>
              </li>
            </a></ul>
		<!--put timestamp here -->
		<p class ="timestamp about-footer condensed">&copy; 2024</p>
		</div>
	  <!-- about box end here -->
      </section>
	  
      <section class="content">
        


<!-- add menu bar here! -->
<div class="post-container">
	<div  class = "menu-meta condensed">
		<!--put top menu here, display @ big screen (> $mobileW) -->
		<div  class = "menu-logo">BLOG</div>
		<div  class = "menu">
			<a href="/blog/index.html">
				<li class="icon-home">Home</li>
			</a><a href="/archive">
				<li class="icon-archive">Archives</li>
			</a><a href="/category">
				<li class="icon-tags">Categories</li>
			</a><a href="/about">
				<li class="icon-help-circled">About</li>
			</a>
		</div>
		<!--put hide menu button here, display @ small screen (< $mobileW) -->
		<div class = "menu-btn-box"><a class="menu-btn"></a></div>
		<!--put hide menu here, display @ small screen (< $mobileW) -->
		<div class="context-menu">
			<ul >
				<li>
					<a class="icon-home" href="/blog/index.html">Home</a>
				</li><li>
					<a class="icon-archive" href="/archive">Archives</a>
				</li><li>
					<a class="icon-tags" href="/category">Categories</a>
				</li><li>
					<a class="icon-help-circled" href="/about">About</a>
				</li>
			</ul>
		</div>
	</div>
</div>
<script type="text/javascript">
$('.menu-btn').on('click',function(e){
		
	e.stopPropagation();
	var tag = $('.context-menu');		
	$(tag).toggleClass('context-menu-show');
			
	var flag = true;
	/* hide the context-menu when other element is clicked */
	$(document).bind('click',function(e){
		var target = $(e.target);
		if(target.closest(tag).length == 0 && flag == true){
			$(tag).toggleClass('context-menu-show');
			flag = false;
		}
	});
})
</script><div class="post-container" style = "margin-bottom:1rem">
	<div class="posts-labelgroup" id="posts-labelgroup">
		<h1 id="posts-label">POST</h1>
	</div>  
	<!-- post title -->
	<h2 class="post-title-body">Fingerprint enrollment in Android</h2>
	<div class="post-meta">
		<div class="post-date icon-calendar" style = "padding-left:0px;font-size:14px">Sep 15, 2019</div>
		
		<!-- sidebar button for displaying/hiding sidebar -->
		<div class = "sidebar-btn-box"><a class="btn"></a></div>
		
	</div>
</div>
  <!-- post content here! -->
  <!-- set fix width box to put content! -->
<div class="post-viewer-container">
	<div class="post post-fix-width">
		<p><img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/image/fingerprint-enroll-cover.jpeg" alt="cover" />  <br />
When we do fingerprint enrollment in an android device, it will generate a fingerprint template that contains the user’s fingerprint information in a specified directory (<em>for example, /data/vendor_de/0/fpdata/user.db</em>), which depends on the system configuration.</p>

<p>During the template is being generated, there is a series of APIs calling in the android system internally. Let’s have a look at this process.</p>

<div class="separator"></div>

<h2 class="no_toc">Table of content</h2>

<ul id="markdown-toc">
  <li><a href="#preenroll" id="markdown-toc-preenroll">preEnroll()</a></li>
  <li><a href="#enroll" id="markdown-toc-enroll">enroll()</a></li>
  <li><a href="#postenroll" id="markdown-toc-postenroll">postEnroll()</a></li>
</ul>
<div class="separator"></div>

<p>Android sets some standard APIs in HAL layer for fingerprint event handling. Refer to Android P source code at <a href="https://www.androidos.net.cn/android/10.0.0_r6/xref/hardware/interfaces/biometrics/fingerprint/2.1/default/BiometricsFingerprint.h">BiometricsFingerprint.h</a> and <a href="https://www.androidos.net.cn/android/10.0.0_r6/xref/hardware/interfaces/biometrics/fingerprint/2.1/default/BiometricsFingerprint.cpp">BiometricsFingerprint.cpp</a>.</p>

<p>The fingerprint APIs definition in Android BiometricsFingerprint.h.<br /></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Return</span><span class="o">&lt;</span><span class="n">uint64_t</span><span class="o">&gt;</span> <span class="n">setNotify</span><span class="p">(</span><span class="n">const</span> <span class="n">sp</span><span class="o">&lt;</span><span class="no">IBiometricsFingerprintClientCallback</span><span class="o">&gt;&amp;</span> <span class="n">clientCallback</span><span class="p">)</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="n">uint64_t</span><span class="o">&gt;</span> <span class="n">preEnroll</span><span class="p">()</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">enroll</span><span class="p">(</span><span class="n">const</span> <span class="n">hidl_array</span><span class="o">&lt;</span><span class="n">uint8_t</span><span class="p">,</span> <span class="mi">69</span><span class="o">&gt;&amp;</span> <span class="n">hat</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">gid</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">timeoutSec</span><span class="p">)</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">postEnroll</span><span class="p">()</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="n">uint64_t</span><span class="o">&gt;</span> <span class="n">getAuthenticatorId</span><span class="p">()</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">cancel</span><span class="p">()</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">enumerate</span><span class="p">()</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">remove</span><span class="p">(</span><span class="n">uint32_t</span> <span class="n">gid</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">fid</span><span class="p">)</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">setActiveGroup</span><span class="p">(</span><span class="n">uint32_t</span> <span class="n">gid</span><span class="p">,</span> <span class="n">const</span> <span class="n">hidl_string</span><span class="o">&amp;</span> <span class="n">storePath</span><span class="p">)</span> <span class="n">override</span><span class="p">;</span>
<span class="no">Return</span><span class="o">&lt;</span><span class="no">RequestStatus</span><span class="o">&gt;</span> <span class="n">authenticate</span><span class="p">(</span><span class="n">uint64_t</span> <span class="n">operationId</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">gid</span><span class="p">)</span> <span class="n">override</span><span class="p">;</span></code></pre></figure>

<h2 id="preenroll">preEnroll()</h2>

<p>When a user starts to enroll the fingerprint, the method <code class="language-plaintext highlighter-rouge">preEnroll()</code> will be called firstly, the fingerprint IC vendor needs to override this method to complete the below task.</p>

<ul>
  <li>generates and saves a 64-bit random number (challenge) in the fingerprint TA. 
This random number has two uses:
    <ol>
      <li>Return to the REE upper layer to fill in the authenticated token challenge in the enrollment.</li>
      <li>TA will use it to preliminarily verify the next enrollment to ensure that the enrollment has not been tampered with by a third party.</li>
    </ol>
  </li>
</ul>

<h2 id="enroll">enroll()</h2>
<p>If the <code class="language-plaintext highlighter-rouge">preEnroll()</code> is proper returned, <code class="language-plaintext highlighter-rouge">enroll()</code> will be following called.<br /> 
Let’s see the definition of <code class="language-plaintext highlighter-rouge">enroll()</code>.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">enroll</span><span class="p">)(</span><span class="k">struct</span> <span class="n">fingerprint_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">const</span> <span class="n">hw_auth_token_t</span> <span class="o">*</span><span class="n">hat</span><span class="p">,</span>
          <span class="kt">uint32_t</span> <span class="n">gid</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">timeout_sec</span><span class="p">);</span></code></pre></figure>

<p>parameters:</p>
<ul>
  <li>hw_auth_token_t: this struct encloses the tokens of enrollment. <br /></li>
</ul>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cm">/**
 * Data format for an authentication record used to prove successful authentication.
 */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nf">__attribute__</span><span class="p">((</span><span class="n">__packed__</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">version</span><span class="p">;</span>  <span class="c1">// Current version is 0</span>
    <span class="kt">uint64_t</span> <span class="n">challenge</span><span class="p">;</span>
    <span class="kt">uint64_t</span> <span class="n">user_id</span><span class="p">;</span>             <span class="c1">// secure user ID, not Android user ID</span>
    <span class="kt">uint64_t</span> <span class="n">authenticator_id</span><span class="p">;</span>    <span class="c1">// secure authenticator ID</span>
    <span class="kt">uint32_t</span> <span class="n">authenticator_type</span><span class="p">;</span>  <span class="c1">// hw_authenticator_type_t, in network order</span>
    <span class="kt">uint64_t</span> <span class="n">timestamp</span><span class="p">;</span>           <span class="c1">// in network order</span>
    <span class="kt">uint8_t</span> <span class="n">hmac</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">}</span> <span class="n">hw_auth_token_t</span><span class="p">;</span></code></pre></figure>

<p><strong>version</strong>: version number of this token.<br />
<strong>challenge</strong>: it is the 64 bit random number to which preenroll was previously called to prevent the enroll from being counterfeited by a third party this time.<br />
<strong>user_id</strong>: Security ID, not Android user ID.<br />
<strong>authenticator_id</strong>: used to indicate different authentication permissions.Normally it indicates the fingerprint database ID.<br />
<strong>authenticator_type</strong>: 0x00 for gatekeeper, 0x01 for fingerprint.<br />
<strong>timestamp</strong>: last boot time stamp.<br />
<strong>hmac</strong>: a special key and SHA-256 algorithm are used to calculate the previous batch of parameters, and a HMAC value is obtained to ensure the legitimacy and security of the previous parameters.<br /></p>

<ul>
  <li>gid: Indicate which user enroll fingerprint (Android supports multiple users). The gid is used to set the store path of the fingerprint template on REE side.</li>
  <li>timeout_sec: timeout /second.</li>
</ul>

<p>The upper layer calls <code class="language-plaintext highlighter-rouge">enroll()</code> method and passes the parameters to fingerprint TA, fingerprint TA receives the token and authorizes the token. There will be some works.</p>

<ol>
  <li>check if the received token-&gt;challenge same as the previous preEnroll phase challenge.</li>
  <li>check if the token version is the same.</li>
  <li>check if authenticator_type is the same.</li>
  <li>retrieve the data of hw_auth_token_t struct and calculate the HMAC, check if the calculated value is the same as the original.</li>
</ol>

<p>Once the token is authorized then the fingerprint TA switches the fingerprint sensor status to ready for enrollment and the fingerprint sensor will wait for the finger-down event.</p>

<p>If the fingerprint sensor detects the finger down occurs, it will trigger the interrupt to inform the fingerprint TA to capture the image. Fingerprint TA will capture the image and do verification to check if the image is qualified. Uses <code class="language-plaintext highlighter-rouge">on_acquired()</code> callback method to notify the REE upper layer of the result. If the image is not good, it will repeat the image capture for a pre-setted time. If the image is qualified, then fingerprint TA will start the enrollment in ALGO and call <code class="language-plaintext highlighter-rouge">on_enroll_result()</code> to notify the upper layer of the remained sample times. Waiting for the finger up and do the next round of image capture. This loop will be repeated until the required count of images is achieved.</p>

<h2 id="postenroll">postEnroll()</h2>

<p>Once the enroll() is returned, <code class="language-plaintext highlighter-rouge">postEnroll()</code> will be called to finish one-time enrollment process.
the work of <code class="language-plaintext highlighter-rouge">postEnroll()</code> is to update the challenge of TA.</p>

<p>The simplest diagram of the whole enrollment process is</p>

<p>enrollment APIs calling.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">preEnroll</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">enroll</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">preEnroll</span><span class="p">()</span></code></pre></figure>

<p>enroll() execute flow.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">enroll</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">authorize</span> <span class="n">token</span><span class="o">-&gt;</span><span class="n">wait_for_finger_down</span><span class="o">-&gt;</span><span class="n">capture_image</span><span class="o">-&gt;</span><span class="n">algo_enroll</span><span class="o">-&gt;</span><span class="n">notify</span><span class="o">-&gt;</span><span class="n">repeat</span><span class="o">-&gt;</span><span class="n">remain</span> <span class="n">sample</span> <span class="n">times?</span><span class="o">-&gt;</span><span class="n">update_template</span><span class="o">-&gt;</span><span class="n">end_ernoll</span></code></pre></figure>

	</div>
	<!-- put sidebar! -->
	
	<div class = "sidebar-container">
	    
	    <div class = "sidebar-about-box" id = "sidebar">
		    
				<p class = "sidebar-title">About This Article</p>
			
			
				
					<P class = "sidebar-about-content sidebar-font-big">Some knowledge of the Fingerprint enrollment process in the Android platform.</P>
				
				
					<P class = "icon-link sidebar-about-content sidebar-font-medium" style = "margin-top:30px">Author: <a href="https://github.com/gangdong">david.dong</a></P>
				
					<P class = "icon-clock sidebar-about-content sidebar-font-medium">12 mins to read</P>
					<P class = "icon-book-1 sidebar-about-content sidebar-font-medium">4685 words</P>
				
					<P class = "icon-th-list sidebar-about-content sidebar-font-medium">Key Words: Fingerprint enrollment/Android</P>
				
				
				    <P class = "icon-hashtag sidebar-about-content sidebar-font-medium">Tags: 
					
					<a href="/category#Android">Android&nbsp;</a>
					
					<a href="/category#Fingerprint">Fingerprint&nbsp;</a>
					
					</P>
				
			
		</div>
		
		
	</div>
	 
</div>
<!-- no sidebar, use flex width box! -->
<br>
<div class="post-container">
    <!-- post categories box! here  -->
    
   <div class="post-categories-meta">
		<div class="post-categories-box post-categories-box-hide"><a href="/category#Android">Android</a><a href="/category#Fingerprint">Fingerprint</a></div>
	</div>
  
  
  <div class = "share-box-meta">
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
	
	<div class="addthis_inline_share_toolbox share-box"><span style ="padding: 2px">Share:</span></div>
	
	<!-- Put post veiw statistic here! -->
	<div class = "post-view">
	
		<span class = "icon-eye tooltip"><p class = "tooltiptext" style = "left:0%; margin-left: 0px">Viewers</p><span id="busuanzi_value_page_pv"></span></span>
		
	</div>
  </div>
  
  <!-- Related posts start here! -->
		
		<h1 id="posts-label">You may also like</h1>
		
	  <div class = "related-posts-box">
		<ul>
			
			<li><a href="/android/fingerprint/2021/02/04/Fingerprint-build-ta.html">Build TA images on different TEE</a></li>
			
			<li><a href="/android/fingerprint/2020/12/02/Fingerprint-Trusty.html">Some useful knowledge for Fingerprint Application on Trusty TEE</a></li>
			
			<li><a href="/android/fingerprint/2020/01/09/Fingerprint-impl-AN8.0.html">Fingerprint implementation in android 8.0 and later</a></li>
			
			<li><a href="/android/fingerprint/2019/12/21/Fingerprint-frmk3.html">Android Fingerprint Framework (3)</a></li>
			
			<li><a href="/android/fingerprint/2019/12/07/Fingerprint-frmk2.html">Android Fingerprint Framework (2)</a></li>
			
		</ul>
	  </div>
	  
	
  <!-- Page navigation start here! -->
   <h1 id="posts-label">further reading</h1>
  
  <div class = "separator"></div>
  <div class="navigation-meta"><div class="navigation-bar">
	 
	 <a href="/android/2019/07/26/Android-custom-view.html"><span>Previous Post</span><br>Some tips for android development errors</a>
	 
    </div><div class="navigation-bar"> 
	 
     <a href="/android/fingerprint/2019/10/03/Fingerprint-frmk1.html"><span>Next Post</span><br>Android Fingerprint Framework (1)</a>
	 
    </div></div><br>
  <!-- comment box starts here! -->
    <!-- disqus start  --><!-- Gitalk start  -->
  <!-- Link Gitalk support file  -->
  <section class="gitalk">
  <div id="gitalk_thread"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript" src="/assets/js/md5.min.js"></script>
  <div id="gitalk-container"></div>
  <script type="text/javascript">
   var gitalk = new Gitalk({
   // gitalk parameters
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'gangdong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: md5(location.pathname),
   title: 'comments'
    });
   gitalk.render('gitalk-container');
  </script>
  </section>
  <!-- Gitalk end -->
  <br/><br/><br/><div class = "footer">© 2012-2021 David Dong. All rights reserved.</div>
  
  <br>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-604f502a8198c9c9&domready=1"></script>


<!-- sidebar button, toggle display/hide sidebar -->
<script type="text/javascript">
        $('.btn').on('click',function(){
            $('.btn').toggleClass('btnc');
            $('.sidebar-container').toggleClass('sidebar-container-hide');
        })
</script>

      </section>
    </main><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MXGF3F8QN"></script>
      <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-3MXGF3F8QN');
	</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body>
</html>
