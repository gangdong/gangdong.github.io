<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="keywords"  content="董刚, DavidDong, David, 董刚的博客, David Dong's Blog, 博客, 个人网站, 互联网, Web, 手机, 人机接口, Touch, Fingerprint，Github Pages TEE Java Python C Android">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Securing Connections with SSH - A Comprehensive Guide | David Dong’s Blog</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Securing Connections with SSH - A Comprehensive Guide" />
<meta name="author" content="david.dong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SSH knowledge" />
<meta property="og:description" content="SSH knowledge" />
<link rel="canonical" href="http://localhost:4000/security/2021/12/15/SSH.html" />
<meta property="og:url" content="http://localhost:4000/security/2021/12/15/SSH.html" />
<meta property="og:site_name" content="David Dong’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-12-15T20:11:11+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Securing Connections with SSH - A Comprehensive Guide" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"david.dong"},"dateModified":"2021-12-15T20:11:11+08:00","datePublished":"2021-12-15T20:11:11+08:00","description":"SSH knowledge","headline":"Securing Connections with SSH - A Comprehensive Guide","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/security/2021/12/15/SSH.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/logo.png"},"name":"david.dong"},"url":"http://localhost:4000/security/2021/12/15/SSH.html"}</script>
<!-- End Jekyll SEO tag -->



<meta property="article:tag" content="SSH">


<link href="https://fonts.font.im/css?family=Poppins:400,900|Raleway|Roboto:400,900|Roboto+Mono&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://rsms.me/">
<link rel="stylesheet" href="https://rsms.me/inter/inter.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/favicon.ico">

	<!-- default stylesheet monokai.sublime ! -->
	
	<link href="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/css/syntax/syntax.monokai.sublime.css" rel="stylesheet"/>
	

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.0/dist/jquery.min.js"></script>

</head><body>
    <main class="container">
      <section class="about condensed">
	    <div class="about-header condensed">
			<div class="about-title">
				<a href="/blog/index.html">
				  <img src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/avatar-11.png" alt="David Dong"/>
				</a>
				<div class = "title-meta">
					<h2 id="title">
					  <a href="/blog/index.html">David Dong</a>
					</h2>
					<p class = "tagline-small">Java/C/C#/Python</p>
				</div>
			</div>
			<p class="tagline">Java/C/C#/Python</p>
		</div>
		<!--put dark mode button here -->
		<div class = "about-footer condensed">
		  <!--put rss/code link here -->
			<div class="icon-box-container about-footer condensed"><div class = "icon-box" style = "padding-right:0px">
					<a id="dark-mode-toggle" class="togglemode dark-mode" onclick="toggleDarkMode()">
						<span id = "mode">Dark Mode</span>
					</a>
				</div>
				<!-- toggle dark/light display mode, should loading darkmode.js here for avoiding flicker when switching -->
				<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/gangdong/gangdong.github.io@dev/assets/js/darkmode.js"></script>
				<script type="text/javascript">
				$('.dark-mode').on('click',function(){
					$('.dark-mode').toggleClass('light-mode');
					if (document.getElementById("mode").innerHTML=="Light Mode")
						document.getElementById("mode").innerHTML="Dark Mode";
					else 
						document.getElementById("mode").innerHTML="Light Mode";
				})
				</script><div class = "icon-box">
					<a class="icon-rss" href="/rss.xml">
						<span>Subscribe</span>
					</a>
				</div><div class = "icon-box">
					<a class="icon-file-code" href="https://github.com/gangdong/gangdong.github.io">
						<span>Source Code</span>
					</a>
				</div></div>
		</div>
		
	    <!--show contact me -->
		<div class = "about-footer condensed social-container">
	    <p class = "contact about-footer condensed">CONTACT ME</p>
		<!-- put social link here -->
	      <ul class="social about-footer condensed" >
		   <a href="https://rainbow-ux.github.io/traveler-blog.github.io">
              <li>
                <i class="icon-picture"></i>
              </li>
           </a><a href="https://github.com/gangdong">
              <li>
                <i class="icon-github-circled"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/刚-董-25208ba0/">
              <li>
                <i class="icon-linkedin-squared"></i>
              </li>
            </a><a href="mailto:dqdongg@hotmail.com">
              <li>
                <i class="icon-mail" style = "font-size: 27px"></i>
              </li>
            </a></ul>
		<!--put timestamp here -->
		<p class ="timestamp about-footer condensed">&copy; 2024</p>
		</div>
	  <!-- about box end here -->
      </section>
	  
      <section class="content">
        


<!-- add menu bar here! -->
<div class="post-container">
	<div  class = "menu-meta condensed">
		<!--put top menu here, display @ big screen (> $mobileW) -->
		<div  class = "menu-logo">BLOG</div>
		<div  class = "menu">
			<a href="/blog/index.html">
				<li class="icon-home">Home</li>
			</a><a href="/archive">
				<li class="icon-archive">Archives</li>
			</a><a href="/category">
				<li class="icon-tags">Categories</li>
			</a><a href="/about">
				<li class="icon-help-circled">About</li>
			</a>
		</div>
		<!--put hide menu button here, display @ small screen (< $mobileW) -->
		<div class = "menu-btn-box"><a class="menu-btn"></a></div>
		<!--put hide menu here, display @ small screen (< $mobileW) -->
		<div class="context-menu">
			<ul >
				<li>
					<a class="icon-home" href="/blog/index.html">Home</a>
				</li><li>
					<a class="icon-archive" href="/archive">Archives</a>
				</li><li>
					<a class="icon-tags" href="/category">Categories</a>
				</li><li>
					<a class="icon-help-circled" href="/about">About</a>
				</li>
			</ul>
		</div>
	</div>
</div>
<script type="text/javascript">
$('.menu-btn').on('click',function(e){
		
	e.stopPropagation();
	var tag = $('.context-menu');		
	$(tag).toggleClass('context-menu-show');
			
	var flag = true;
	/* hide the context-menu when other element is clicked */
	$(document).bind('click',function(e){
		var target = $(e.target);
		if(target.closest(tag).length == 0 && flag == true){
			$(tag).toggleClass('context-menu-show');
			flag = false;
		}
	});
})
</script><div class="post-container" style = "margin-bottom:1rem">
	<div class="posts-labelgroup" id="posts-labelgroup">
		<h1 id="posts-label">POST</h1>
	</div>  
	<!-- post title -->
	<h2 class="post-title-body">Securing Connections with SSH - A Comprehensive Guide</h2>
	<div class="post-meta">
		<div class="post-date icon-calendar" style = "padding-left:0px;font-size:14px">Dec 15, 2021</div>
		
		<!-- sidebar button for displaying/hiding sidebar -->
		<div class = "sidebar-btn-box"><a class="btn"></a></div>
		
	</div>
</div>
  <!-- post content here! -->
  <!-- set fix width box to put content! -->
<div class="post-viewer-container">
	<div class="post post-fix-width">
		<h3 id="introduction">Introduction</h3>

<p>Secure Shell (SSH) is a cryptographic network protocol widely used for secure communication over an unsecured network. I used it almost everyday, this article will delve into the encryption principles and applications of SSH, followed by a guide on installing and utilizing SSH on Linux systems, and finally, exploring methods to enable passwordless login for remote hosts.</p>

<h3 id="chapter-1-encryption-principles-and-applications-of-ssh">Chapter 1: Encryption Principles and Applications of SSH</h3>

<h4 id="11-symmetric-encryption">1.1 Symmetric Encryption:</h4>

<ul>
  <li>SSH utilizes symmetric encryption algorithms like AES (Advanced Encryption Standard) to encrypt data during transmission.</li>
  <li>Symmetric encryption ensures that the data exchanged between the client and server remains confidential and cannot be intercepted by malicious actors.</li>
</ul>

<h4 id="12-asymmetric-encryption">1.2 Asymmetric Encryption:</h4>

<ul>
  <li>Asymmetric encryption, based on public-private key pairs, is employed for authentication and key exchange.</li>
  <li>SSH uses algorithms like RSA or ECDSA to generate key pairs, with the client possessing the public key and the server holding the private key.</li>
  <li>This asymmetric encryption ensures secure authentication and protection against man-in-the-middle attacks.</li>
</ul>

<h4 id="13-use-cases-of-ssh">1.3 Use Cases of SSH:</h4>

<ul>
  <li>Remote login: SSH enables users to securely log in to remote systems over the network.</li>
  <li>Secure file transfer: It facilitates the secure transfer of files between systems using utilities like SCP (Secure Copy) or SFTP (SSH File Transfer Protocol).</li>
  <li>Tunneling: SSH tunneling allows for secure communication between two devices by encapsulating data within SSH connections, useful for accessing services behind firewalls or bypassing censorship.</li>
</ul>

<h3 id="chapter-2-installing-and-using-ssh-on-linux">Chapter 2: Installing and Using SSH on Linux</h3>

<h4 id="21-installation">2.1 Installation:</h4>

<ul>
  <li>
    <p>Most Linux distributions come pre-installed with SSH packages. However, if not available, SSH can be easily installed using package managers like apt, yum, or dnf.</p>
  </li>
  <li>
    <p>For example, on Debian-based systems:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>atp <span class="nb">install </span>openssh-server
<span class="nb">sudo </span>apt <span class="nb">install </span>openssh-client
</code></pre></div>    </div>
  </li>
  <li>
    <p>check SSH status</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl status ssh
</code></pre></div>    </div>
  </li>
  <li>
    <p>start SSH service</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl start ssh
</code></pre></div>    </div>
  </li>
  <li>
    <p>stop SSH service</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl stop ssh
<span class="nb">sudo </span>systemctl disable ssh
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="22-configuration">2.2 Configuration:</h4>

<ul>
  <li>
    <p>SSH configuration files are located in /etc/ssh/ directory.</p>
  </li>
  <li>
    <p>Users can customize SSH settings such as port number, authentication methods, and access control through the sshd_config file.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh username@hostname
</code></pre></div>    </div>
  </li>
  <li>
    <p>Replace ‘username’ with the remote user’s username and ‘hostname’ with the IP address or domain name of the remote server.</p>
  </li>
</ul>

<h3 id="chapter-3-implementing-passwordless-login-for-remote-hosts">Chapter 3: Implementing Passwordless Login for Remote Hosts</h3>

<h4 id="31-generating-ssh-key-pair">3.1 Generating SSH Key Pair:</h4>

<ul>
  <li>To enable passwordless login, first, generate an SSH key pair on the local machine using the ssh-keygen command.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"username@user.com"</span>
</code></pre></div></div>

<ul>
  <li>This command will create a public key (id_rsa.pub) and a private key (id_rsa) in the ~/.ssh/ directory.</li>
</ul>

<h4 id="32-copying-public-key-to-remote-host">3.2 Copying Public Key to Remote Host:</h4>

<ul>
  <li>
    <p>Next, copy the public key to the ~/.ssh/authorized_keys file on the remote <strong>host</strong> using the ssh-copy-id command or manually.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-copy-id username@hostname
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="33-passwordless-login">3.3 Passwordless Login:</h4>

<ul>
  <li>Once the public key is added to the authorized_keys file on the remote host, SSH will authenticate the user using the private key without requiring a password.</li>
  <li>Users can now log in to the remote host securely without entering a password.</li>
</ul>

<p>A common example is to use this method to push commits to github repository, the workflow is similiar.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"xxx@xxx.com"</span> 
<span class="c">#write the private key to ssh agent</span>
ssh-add ~/.ssh/id_rsa
<span class="c"># then login the github accounts,  </span>
<span class="c"># add the public key id_rsa_pub into github -&gt;settings-&gt;SSH and GPG keys</span>
<span class="c"># check the connecting status</span>
ssh <span class="nt">-T</span> git@github.com
<span class="c"># check the local branch status,</span>
<span class="c"># if binding to remote branch</span>
git branch <span class="nt">-vv</span>
<span class="c"># looking for the remote url information.</span>
git remote <span class="nt">-v</span>
<span class="c"># if the url is using https format, switch to ssh link</span>
<span class="c"># the link informaion can be found the github repository page</span>
git remote set-url origin git@github.com:username/repository_name.git
<span class="c"># push to remote without inputing password</span>
git push origin 
</code></pre></div></div>

<h4 id="34-known-host">3.4 Known Host</h4>

<p><code class="language-plaintext highlighter-rouge">known_hosts</code> is a text file that stores the host keys of remote servers your computer has connected to in the past. Each time you connect to a new remote server, the SSH client will ask you to confirm the host key and then save it to the ~/.ssh/known_hosts file.</p>

<p>The purpose of this file is to help detect man-in-the-middle attacks. If the host key of a server you’ve previously connected to changes (for example, due to the server being reinstalled or tampered with by a man-in-the-middle attacker), the SSH client will issue a warning, indicating a potential security risk.</p>

<p>However, there are situations where you might encounter issues, such as when the host key changes for legitimate reasons or when you switch between different connection methods (e.g., connecting via IP address versus domain name). In such cases, you may need to manually edit the ~/.ssh/known_hosts file to remove or update the old host key.</p>

<p>In summary, ~/.ssh/known_hosts is a file that stores the known host keys for SSH clients, helping ensure that the remote servers you connect to are the ones you expect, and providing a level of security against unauthorized access</p>

<h3 id="conclusion">Conclusion</h3>

<p>SSH stands as a cornerstone of secure communication, offering robust encryption and authentication mechanisms for remote access and data transfer. Understanding its encryption principles, installation, and utilization on Linux systems, along with implementing advanced features like passwordless login, empowers users to establish and maintain secure connections in today’s interconnected digital landscape.</p>

	</div>
	<!-- put sidebar! -->
	
	<div class = "sidebar-container">
	    
	    <div class = "sidebar-about-box" id = "sidebar">
		    
				<p class = "sidebar-title">About This Article</p>
			
			
				
					<P class = "sidebar-about-content sidebar-font-big">SSH knowledge</P>
				
				
					<P class = "icon-link sidebar-about-content sidebar-font-medium" style = "margin-top:30px">Author: <a href="https://github.com/gangdong">david.dong</a></P>
				
					<P class = "icon-clock sidebar-about-content sidebar-font-medium">12 mins to read</P>
					<P class = "icon-book-1 sidebar-about-content sidebar-font-medium">4730 words</P>
				
					<P class = "icon-th-list sidebar-about-content sidebar-font-medium">Key Words: SSH Asymmetric Encryption</P>
				
				
				    <P class = "icon-hashtag sidebar-about-content sidebar-font-medium">Tags: 
					
					<a href="/category#SSH">SSH&nbsp;</a>
					
					</P>
				
			
		</div>
		
		
	    <div class="sidebar-toc-box">
			
			<p class = "sidebar-title">Table of Contents</p>
			<span class = "sidebar-font-medium sidebar-toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#introduction">Introduction</a></li>
<li class="toc-entry toc-h3"><a href="#chapter-1-encryption-principles-and-applications-of-ssh">Chapter 1: Encryption Principles and Applications of SSH</a>
<ul>
<li class="toc-entry toc-h4"><a href="#11-symmetric-encryption">1.1 Symmetric Encryption:</a></li>
<li class="toc-entry toc-h4"><a href="#12-asymmetric-encryption">1.2 Asymmetric Encryption:</a></li>
<li class="toc-entry toc-h4"><a href="#13-use-cases-of-ssh">1.3 Use Cases of SSH:</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#chapter-2-installing-and-using-ssh-on-linux">Chapter 2: Installing and Using SSH on Linux</a>
<ul>
<li class="toc-entry toc-h4"><a href="#21-installation">2.1 Installation:</a></li>
<li class="toc-entry toc-h4"><a href="#22-configuration">2.2 Configuration:</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#chapter-3-implementing-passwordless-login-for-remote-hosts">Chapter 3: Implementing Passwordless Login for Remote Hosts</a>
<ul>
<li class="toc-entry toc-h4"><a href="#31-generating-ssh-key-pair">3.1 Generating SSH Key Pair:</a></li>
<li class="toc-entry toc-h4"><a href="#32-copying-public-key-to-remote-host">3.2 Copying Public Key to Remote Host:</a></li>
<li class="toc-entry toc-h4"><a href="#33-passwordless-login">3.3 Passwordless Login:</a></li>
<li class="toc-entry toc-h4"><a href="#34-known-host">3.4 Known Host</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#conclusion">Conclusion</a></li>
</ul></span>
			
		</div>
		
	</div>
	 
</div>
<!-- no sidebar, use flex width box! -->
<br>
<div class="post-container">
    <!-- post categories box! here  -->
    
   <div class="post-categories-meta">
		<div class="post-categories-box post-categories-box-hide"><a href="/category#Security">Security</a></div>
	</div>
  
  
  <div class = "share-box-meta">
  <!-- Go to www.addthis.com/dashboard to customize your tools -->
	
	<div class="addthis_inline_share_toolbox share-box"><span style ="padding: 2px">Share:</span></div>
	
	<!-- Put post veiw statistic here! -->
	<div class = "post-view">
	
		<span class = "icon-eye tooltip"><p class = "tooltiptext" style = "left:0%; margin-left: 0px">Viewers</p><span id="busuanzi_value_page_pv"></span></span>
		
	</div>
  </div>
  
  <!-- Related posts start here! -->
	
  <!-- Page navigation start here! -->
   <h1 id="posts-label">further reading</h1>
  
  <div class = "separator"></div>
  <div class="navigation-meta"><div class="navigation-bar">
	 
	 <a href="/c%23/2021/12/10/Csharp-Intptr.html"><span>Previous Post</span><br>C# 的 IntPtr 类型</a>
	 
    </div><div class="navigation-bar"> 
	 
     <a href="/others/2022/02/11/Others-typora.html"><span>Next Post</span><br>从 MarkdownPad2 到 Typora - 使用 Typora 的直观感受</a>
	 
    </div></div><br>
  <!-- comment box starts here! -->
    <!-- disqus start  --><!-- Gitalk start  -->
  <!-- Link Gitalk support file  -->
  <section class="gitalk">
  <div id="gitalk_thread"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript" src="/assets/js/md5.min.js"></script>
  <div id="gitalk-container"></div>
  <script type="text/javascript">
   var gitalk = new Gitalk({
   // gitalk parameters
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'gangdong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: md5(location.pathname),
   title: 'comments'
    });
   gitalk.render('gitalk-container');
  </script>
  </section>
  <!-- Gitalk end -->
  <br/><br/><br/><div class = "footer">© 2012-2021 David Dong. All rights reserved.</div>
  
  <br>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script async type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-604f502a8198c9c9&domready=1"></script>


<!-- sidebar button, toggle display/hide sidebar -->
<script type="text/javascript">
        $('.btn').on('click',function(){
            $('.btn').toggleClass('btnc');
            $('.sidebar-container').toggleClass('sidebar-container-hide');
        })
</script>

      </section>
    </main><script async src="https://www.googletagmanager.com/gtag/js?id=G-3MXGF3F8QN"></script>
      <script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-3MXGF3F8QN');
	</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body>
</html>
